### 碎片知识

1. mysql日志类型

```
binlog（归档日志）；
MySQL Server 层记录的日志，所以不管是用的什么存储引擎，只要是 MySQL 都是会有 binlog 的存在，在做 MySQL 主从复制的时候，利用的就是 binlog。
redo log（重做日志）；
InnoDB 存储引擎层方面的日志，所以如果你使用的存储引擎不是 InnoDB 的话，那就根本谈不上 redo log。
undo log（撤消日志）；
```

2. 事务隔离级别

```
读未提交（READ UNCOMMITTED）
读未提交，也叫未提交读，该隔离级别的事务可以看到其他事务中未提交的数据。该隔离级别因为可以读取到其他事务中未提交的数据，而未提交的数据可能会发生回滚，因此我们把该级别读取到的数据称之为脏数据，把这个问题称之为脏读。
读已提交（READ COMMITTED）
读已提交，也叫提交读，该隔离级别的事务能读取到已经提交事务的数据，因此它不会有脏读问题。但由于在事务的执行中可以读取到其他事务提交的结果，所以在不同时间的相同 SQL 查询中，可能会得到不同的结果，这种现象叫做不可重复读。
可重复读（REPEATABLE READ）
可重复读，是 MySQL 的默认事务隔离级别，它能确保同一事务多次查询的结果一致。但也会有新的问题，比如此级别的事务正在执行时，另一个事务成功的插入了某条数据，但因为它每次查询的结果都是一样的，所以会导致查询不到这条数据，自己重复插入时又失败（因为唯一约束的原因）。明明在事务中查询不到这条信息，但自己就是插入不进去，这就叫幻读 （Phantom Read）。
序列化（SERIALIZABLE）
序列化，事务最高隔离级别，它会强制事务排序，使之不会发生冲突，从而解决了脏读、不可重复读和幻读问题，但因为执行效率低，所以真正使用的场景并不多。
```

3. 客户端与服务端的通讯方式

```
1). TCP/IP协议；
    TCP/IP协议是MySQL客户端和服务器最常用的通信方式；
    我们在使用mysql命令启动客户端程序时，只要在-h参数后跟随IP地址作为服务器进程所在的主机地址，那么通讯方式便是TCP/IP协议；
2). UNIX域套接字；
    如果客户端进程和服务器进程都位于类UNIX操作系统（MacOS、Centos、Ubuntu等）的主机之上，并且在启动客户端程序时没有指定主机名，或者指定的主机名为localhost，又或者指定了--protocol=socket的启动参数，那么客户端进程和服务器进程就会使用UNIX域套接字进行进程间通信；
    MySQL服务器进程默认监听的UNIX域套接字文件为/temp/mysql.sock，客户端进程启动时也默认会连接到这个UNIX域套接字文件之上；
3). 命名管道和共享内存；
    如果你的MySQL是安装在Windows主机之上，客户端和服务器进程可以使用命名管道和共享内存的方式进行通信；
```

4. 存储引擎

```
1). 什么是存储引擎？
    把数据存储在什么位置，是内存还是磁盘？怎么从表里读取数据，以及怎么把数据写入具体的表中，这都是存储引擎 负责的事情。
2). 常用的存储引擎？
    InnoDB；
        默认的存储引擎，底层存储结构为 B+树， B 树的每个节点对应 innodb的一个 page，page 大小是固定的，一般设为 16k；
        支持事务，支持外键，因此数据的完整性、一致性更高；
        支持行级别的锁和表级别的锁；
        支持读写并发，写不阻塞读（MVCC）；
        特殊的索引存放方式，可以减少IO，提升査询效率；
    MylSAM：
        支持表级别的锁（插入和更新会锁表），不支持事务；
        拥有较高的插入（insert）和查询（select）速度；
        存储了表的行数（count速度更快）；
    Memory：
        把数据放在内存里面，读写的速度很快，但是数据库重启或者崩溃，数据会全部消失；
        只适合做临时表；
```

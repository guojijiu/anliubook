### 碎片知识

1. 如何保证api接口数据安全

```
1. HTTP 请求中的来源识别：
Origin：用于指明当前请求来自于哪个站点。
Referer：用于指明当前的请求是从哪个页面链接过来的
User-Agent：用于标识当前的请求的浏览器或者系统的一些信息。我们一般会对 HTTP 请求头中的 Origin 和 Referer 做白名单域名校验，先判断这个请求是不是由我们自己的域发出来的，然后再对 User-Agent 做一次校验，用来保证当前的请求是由浏览器发出来的，而不是由什么杂七杂八的模拟器发出来的。
2. 数据加密：
常见的做法对关键字段加密比如用户密码直接通过 md5 加密；现在主流的做法是使用 https 协议，在 http 和 tcp 之间添加一层加密层( SSL 层)，这一层负责数据的加密和解密。
3. 数据签名：
增加签名就是我们在发送 HTTP 请求的时候，增加一个无法伪造的字符串，用来保证数据在传输的过程中不被篡改。
数据签名使用比较多的算法是 MD5 算法，这个算法是将要提交的数据，通过某种方式组合成一个字符串，然后通过 MD5 算法生成一个签名，还可以在 MD5 的时候加盐和加 hash ，进一步降低请求被劫持后存在模拟的风险。
4. 时间戳：
时间戳机制主要用来应对非法的 DDOS 攻击，我们的请求经过的加密和签名后，已经很难进行逆向破解了，但是有的攻击者他在抓包后，并不在意里面的具体数据，直接拿着抓的包进行攻击，这就是臭名昭著的 DDOS 攻击。
5. AppID：
想要调用我们的 API 接口，必须通过线下的方式像我申请一个 AppID ，只有当这个 AppID 开通后，才能对我的接口进行合法的访问，在进行接口访问的时候，这个 AppID 需要添加到请求参数中，与其他数据一起提交。
6. 参数整体加密：
对称加密：对称密钥在加密和解密的过程中使用的密钥是相同的，常见的对称加密算法有 DES ， AES ， RC4 ， Rabbit ， TripleDes 等等。优点是计算速度快，缺点是在数据传送前，发送方和接收方必须商定好秘钥，然后使双方都能保存好秘钥，如果一方的秘钥被泄露，那么加密信息也就不安全了。
非对称加密：服务端会生成一对密钥，私钥存放在服务器端，公钥可以发布给任何人使用。优点就是比起对称加密更加安全，但是加解密的速度比对称加密慢太多了。广泛使用的是 RSA 算法。
7. 限流：
服务端限流的算法常见的有这么几种：令牌桶限流、漏桶限流、计数器限流。
8. 黑名单：
由业务控制，对于请求异常或者不合规的请求，进行ip黑名单，账号黑名单等；
```

2. OSI七层模型

```
1. 物理层：
    用途：解决使用何种信号来传输比特的问题；
    实体设备：集线器（将计算机连接在一起，只做比特）；
    传输数据：比特（Bit），也就是0和1的二进制数字；
    协议：
2. 数据链路层：
    用途：帧与差错纠正控制；
    实体设备：交换机；
    传输数据：帧（Frame），将比特封装成一个新的数据链路层上的传输单位；
    协议：PPP（Point-to-Point Protocol，点对点协议）
3. 网络层：
    用途：路由与寻址；
    实体设备：路由器；
    传输数据：
    协议：ip,ARP(Address Resolution Protocol，地址解析协议)
4. 传输层：
    用途：为通信提供通用的数据传输服务；
5. 会话层；
    用途：通过建立，维护，重连管理应用之间的会话；
6. 表示层：
    用途：对数据的处理（编解码，加密解密，压缩解压缩）；
7. 应用层：
    用途：只需要专注于为用户提供应用功能；

参考：https://juejin.cn/post/7170684141153812487
```

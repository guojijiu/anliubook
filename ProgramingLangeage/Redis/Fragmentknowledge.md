### 碎片知识

1. redis为什么执行快

```
开发语言使用的是C；
数据放在内存中，不存在io读写的问题；
采用单线程：单线程避免了线程切换以及加锁释放锁带来的消耗，对于服务端开发来说，锁和线程切换通常是性能杀手；
I/O多路复用：Redis使用epoll作为I/O多路复用技术的实现，再加上Redis自身的事件处理模型将epoll的read、write、close等都转换成事件，不在网络I/O上浪费过多的时间。实现对多个FD读写的监控，提高性能。
```

2. redis主从复制
```
流程：
1、首先是副本-replica加入集群；
2、与master建立连接，通过定时器定时检查是否要从主节点同步数据；
```

3. redis哨兵模式
```
Redis Sentinel是Redis的官方高可用性解决方案。Redis Sentinel为Redis提供高可用性。实际上，这意味着使用Sentinel可以创建一个Redis集群，在没有人为干预的情况下抵抗某些类型的失败，自动实现故障转移。 
```

4. 缓存穿透
```
如果在请求数据时，在缓存层和数据库层都没有找到符合条件的数据，也就是说，在缓存层和数据库层都没有命中数据，那么，这种情况就叫作缓存穿透。
解决方案：就是把空对象缓存起来。
```

5. 缓存击穿
```
如果缓存中的数据在某个时刻批量过期，导致大部分用户的请求都会直接落在数据库上，这种现象就叫作缓存击穿。
解决方案：对于比较热点的数据，我们可以在缓存中设置这些数据永不过期；也可以在访问数据的时候，在缓存中更新这些数据的过期时间；如果是批量入库的缓存项，我们可以为这些缓存项分配比较合理的过期时间，避免同一时刻失效。
```

6. 缓存雪崩
```
如果在某一时刻缓存集中失效，或者缓存系统出现故障，所有的并发流量就会直接到达数据库。数据存储层的调用量就会暴增，用不了多长时间，数据库就会被大流量压垮，这种级联式的服务故障，就叫作缓存雪崩。
解决方案：解决缓存雪崩问题最常用的一种方案就是保证Redis的高可用，将Redis缓存部署成高可用集群（必要时候做成异地多活），可以有效的防止缓存雪崩问题的发生。
```